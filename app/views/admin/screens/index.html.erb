<div class="w-full">
  <h1 class="mb-3 text-3xl font-medium">Welcome to Theater dashboard page, <%= current_user.email %></h1>

  <div class="flex justify-between mt-10">
    <h1 class="font-bold text-4xl">Screens</h1> 
    <%= link_to "Add New screen", new_admin_screen_path, class: "rounded-lg py-3 px-5 my-auto bg-blue-600 text-white block font-medium" %>
  </div> 

  <% @screens.each do |screen| %>
    <div class="my-3">
      <%= link_to "#{screen.screen_no}", admin_screen_path(screen), class: "rounded-lg py-3 px-5 my-auto max-w-24 text-center bg-stone-200 hover:bg-stone-300 text-black block font-medium" %>
    </div>
  <% end %>

  <h1 class="font-bold text-3xl mt-10 mb-3">All Theater Shows</h1>

  <% @shows.each do |show| %>
    <div class="my-5">
      <h1 class="text-2xl"><%= show.name.capitalize %> - on Screen <%= show.screens.first.screen_no %></h1>
      <%= image_tag url_for(show.poster.variant(:display)) if show.poster.attached? %>
    </div>
  <% end %>

  <h1 class="mt-24 text-3xl">Total bookings of shows by screen for current week</h1>
  <%= bar_chart Screen.group_by_day(:created_at).count %>

  <h1 class="text-3xl">Total bookings in general by week</h1>
  <%= line_chart Screen.group_by_day(:created_at).count %>
  
  <h1 class="text-3xl">Total bookings in general by month</h1>
  <%= line_chart Screen.group_by_day(:created_at).count %>

  <h1 class="text-3xl">Most popular show based on booking</h1>
  <%= pie_chart Screen.group_by_day(:created_at).count %>

  <h1 class="font-bold text-3xl mt-10">Feedbacks</h1>

  <% @feedbacks.each do |f| %>
    <li class="text-2xl"><%= f.comment %><span> - by <%= f.user.name %></span></li>
  <% end %>
  </div>
</div>