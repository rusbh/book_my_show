<h1 class="font-semibold text-4xl"><%= current_user.name %></h1>

<h1 class="mt-10 text-3xl font-semibold underline">Booking History:</h1>

<div class="my-6">
  <h1 class="text-2xl mt-10">Upcoming bookings:</h1>

  <% if @upcoming_bookings.exists? %>
    <div class="text-2xl my-3">
      <% @upcoming_bookings.each do |b| %>
        <li><%= pluralize(b.ticket, "ticket") %> of <span class="font-medium"><%= b.screening.show.name %></span>, <%= b.screening.screen.theater.name %> on <%= format_date(b.booking_date) %> at <%= format_time(b.show_timing.time) %></li>
      <% end %>
    </div>
  <% else %>
    <h1>You don't have any bookings scheduled yet</h1>
  <% end %>

  <h1 class="text-2xl mt-10">Past bookings:</h1>

  <% if @past_bookings.exists? %>
    <div class="text-2xl my-3">
      <% @past_bookings.each do |b| %>
        <li><span class="font-medium"><%= b.screening.show.name %></span>, <%= b.screening.screen.theater.name %> on <%= format_date(b.booking_date) %> at <%= format_time(b.show_timing.time) %></li>
      <% end %>
    </div>
  <% else %>
    <h1>You don't have any history of bookings</h1>
  <% end %>

  <% if @cancelled_bookings.exists? %>
    <h1 class="text-2xl mt-10 underline">Cancelled bookings:</h1>
    <div class="text-2xl my-3">
      <% @cancelled_bookings.each do |b| %>
        <li><span class="font-medium"><%= b.screening.show.name %></span>, <%= b.screening.screen.theater.name %> on <%= format_date(b.booking_date) %> at <%= format_time(b.show_timing.time) %></li>
      <% end %>
    </div>
  <% end %>

</div>
